# KeepItFresh â€“ AI Coding Guide

## Purpose
This document serves as a **meta-guideline for AI coding assistants** working on the KeepItFresh project.  
It defines how code should be structured, named, and organized â€” not what frameworks or libraries to use.  
No external SDKs (e.g., Firebase, Realm, AWS, etc.) should be mentioned or assumed here.

---

## Overview
**Platform:** iOS, iPadOS, macOS  
**Language:** Swift 6  
**Minimum OS Target:** 26.0  
**Architecture:** Clean Architecture (MVVM + Coordinators)  
**Dependency Management:** Swift Package Manager  
**Tooling:** Xcode 26.0.1+

---

## Core Principles
- Follow **SOLID**, **Clean Architecture**, and **Swift API Design Guidelines**.
- **Protocol-first** design; implementations injected via dependency injection.
- **No singletons** (except Apple APIs).
- Use **structs/enums** over classes where possible.
- Concurrency handled using **async/await** and **Actors**.
- Maintain **testability** at all layers.
- Ensure **readability**, **consistency**, and **simplicity** in all code.

---

## Layered Architecture

### ðŸ§© Domain Layer
- Contains **business logic**, **use cases**, and **protocol definitions**.
- No dependency on frameworks or UI.
- Contains only:
  - **Models** (`Codable`, `Equatable`, `Identifiable`, `Sendable`)
  - **Protocols**
  - **UseCases**

### ðŸ’¾ Data Layer
- Contains **implementations** of the domain protocols.
- Handles **persistence, storage, or network access** abstractly (no specific SDKs).
- Organized as:
  - **Repositories**
  - **DataSources**
  - **Services**
  - **Mappers**

### ðŸ–¥ï¸ Presentation Layer
- Contains **SwiftUI Views**, **ViewModels**, and **Coordinators**.
- Follows **MVVM** pattern with `@Observable` state.
- Each feature has its own folder:
  ```
  /Presentation
    /Onboarding
    /Authentication
    /Household
    /Inventory
    /ShoppingList
    /Notifications
    /Settings
  ```
- Shared components:
  - **CoreUI** (buttons, forms, cards)
  - **ViewModifiers**
  - **Styles/Themes**

### âš™ï¸ Utils Layer
- Shared helpers, constants, and extensions.
- Keep small and stateless.

### ðŸŽ¨ Resources
- Images, colors, localization, and configuration files.

---

## Coding Guidelines
- Use **camelCase** for variables/functions, **PascalCase** for types.
- Avoid force unwrapping; use guard or optional binding.
- Small, focused functions (â‰¤ 20 lines).
- Document all public APIs.
- Use **guard for early exits**.
- Meaningful commit messages following:  
  `feat:`, `fix:`, `chore:`, `refactor:`, `test:`, `docs:`
- Avoid magic numbers; use constants or enums.
- Separate UI and logic completely.

---

## UI Guidelines
- Use **SwiftUI** exclusively.
- Follow **Apple Human Interface Guidelines**.
- Consistent layout spacing and adaptive designs.
- Light and dark mode compliant.
- Accessibility supported via modifiers.
- Use system colors and SF Symbols.
- Use **NavigationStack** and **tab-based navigation**.
- Animations must be lightweight and purposeful.

---

## Feature Overview
> Each feature should exist as an independent, testable module.

1. **Splash Screen**
2. **User Authentication**
3. **Household Management**
4. **Item Tracking & Expiry Monitoring**
5. **Shopping List**
6. **Notifications & Alerts**
7. **Product Scanning (Barcode/OCR)**
8. **AI-Assisted Reading (e.g., label recognition)**
9. **User Profile & Settings**
10. **Analytics (abstracted)**

*(Descriptions or technical implementations are intentionally omitted to allow flexibility.)*

---

## Testing Guidelines
- Unit tests for all **use cases**, **repositories**, and **view models**.
- Follow **Arrange-Act-Assert** format.
- Descriptive test names:  
  `test_whenUserLogsIn_withValidCredentials_shouldReturnToken`
- Use mocks/stubs for services and repositories.
- Maintain high coverage for core features (Authentication, Tracking, Notifications).
- Keep UI tests minimal and focused on flow.

---

## Documentation and Comments
- Use `///` for public symbols.
- Keep inline comments concise and meaningful.
- Each module must include a short **README.md** describing purpose and responsibilities.

---

## File and Folder Naming
| Type | Suffix | Example |
|------|--------|----------|
| Model | `Model` | `ItemModel` |
| ViewModel | `ViewModel` | `HouseListViewModel` |
| View | `View` | `AddItemView` |
| Protocol | `Providing` | `ItemProviding` |
| Repository | `Repository` | `ItemRepository` |
| Service | `Service` | `NotificationService` |
| UseCase | `UseCase` | `AuthUseCase` |

---

## Commit & Branching Standards
- **main** â†’ production
- **develop** â†’ integration
- **feature/** â†’ new feature
- **fix/** â†’ bug fixes
- Use pull requests with code review required.

---

## General AI Assistant Notes
- Do **not** assume any backend, framework, or SDK (Firebase, Realm, etc.).
- Prefer pure Swift solutions and abstractions.
- Focus on **clean structure**, **clarity**, and **maintainability**.
- Treat this file as a **reference contract** for generating consistent code.

---

> ðŸ“˜ This document defines **how to write code**, not **how to implement features**.
